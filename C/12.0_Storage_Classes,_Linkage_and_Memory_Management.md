### ğŸ“Œ 12.1 ë©”ëª¨ë¦¬ ë ˆì´ì•„ì›ƒ í›‘ì–´ë³´ê¸°
<img width="650" src="https://github.com/user-attachments/assets/c1e5a371-4e02-4e02-9139-ba7c58827498"/>

<img width="500" src="https://github.com/user-attachments/assets/7a7de061-7b3d-40ae-a377-f8ab98e59e1a"/>

- stack (ì§€ì—­ ë³€ìˆ˜) -> í¬ê¸° ë³€ë™  
  ë©”ëª¨ë¦¬ ì‚¬ì´ì¦ˆê°€ compile timeì— ê²°ì •ë¨  
  ì¤‘ê´„í˜¸ ì•ˆì—ì„œ ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ì˜ í• ë‹¹ ë° (ìš´ì˜ì²´ì œì—ê²Œë¡œ) ë°˜ë‚©ì´ ì´ë£¨ì–´ ì§„ë‹¤.  
  Tip) í° ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ê¸°ëŠ¥ì€, í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•´ì„œ ì‚¬ìš© í›„ ë°˜ë‚©í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤.  
- Free -> í¬ê¸° ë³€ë™  
- Heap -> í¬ê¸° ë³€ë™  
- ë©”ëª¨ë¦¬ ì‚¬ì´ì¦ˆê°€ compile timeì— ê²°ì •ë˜ì§€ ì•ŠìŒ  
  ë©”ëª¨ë¦¬ë¥¼ ë°°ì •í•  ë•Œ, ì–´ë””ì— ë°°ì •í•´ì•¼ ë ì§€ ìš´ì˜ì²´ì œë¥¼ ê±°ì³ì„œ ë©”ëª¨ë¦¬ì˜ í• ë‹¹ ë° ë°˜ë‚©ì´ ë˜ë¯€ë¡œ ëŠë¦¬ë‹¤.  
  ì‚¬ìš© ì¢…ë£Œ í›„ manualë¡œ free(arr)ì²˜ëŸ¼ ë°˜ë‚© í•„ìš”!  
- BSS(Block Started by Symbol) Segment (ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ ì „ì—­ ë³€ìˆ˜ë“¤) -> í¬ê¸° ê³ ì •  
  DATA Segment (ì´ˆê¸°í™”ëœ ì „ì—­ ë³€ìˆ˜ë“¤) -> í¬ê¸° ê³ ì •  
- Text Segment(í”„ë¡œê·¸ë¨ ì½”ë“œ, Read Only) -> í¬ê¸° ê³ ì •  
  ì‹¤í–‰ì„ ìœ„í•´ì—¬ í”„ë¡œê·¸ë¨ ìì²´ê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ëŠ” ì¥ì†Œ.


### ğŸ“Œ 12.2 ê°ì²´(Object)ì™€ ì‹ë³„ì(Identifier), lvalueì™€ rvalue
``` c
#include <stdio.h>

int main()
{
	/*
		Object (ê°ì²´)
		- "An object is simply a block of memory that can store a value." (KNK p. 487)
		 = ë©”ëª¨ë¦¬ ê³µê°„ì„ ê°–ê³  ìˆìœ¼ë©´ ê°ì²´ !
		- Object has more develped meaning in C++ and Object Oriented Programming (OOP)
		 = pythonì˜ ê°ì²´ëŠ” cì–¸ì–´ì˜ ê°ì²´ì—ì„œ í™•ì¥ëœ ê°œë…. oop(ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°)

		Identifiers (ì¸ì‹ì)
		- Names for variables, functions, macros, and other entities. (KNK p. 25)
		 = ë³€ìˆ˜ ì´ë¦„ !
	*/

	// ê°ì²´ëŠ” ë©”ëª¨ë¦¬ ê³µê°„, ì¸ì‹ìëŠ” var_name
	// ë©”ëª¨ë¦¬ ê³µê°„ì— 3ì´ë¼ëŠ” ê°’ì„ ë³µì‚¬í•´ì„œ ë„£ì–´ì£¼ëŠ” ê²ƒ.
	// ì¸ì‹ìëŠ” ì´ë¦„ì— ë¶ˆê³¼í•œë° ë§ˆì¹˜ ê°ì²´ë¥¼ ì§ì ‘ ë‹¤ë£¨ëŠ” ê²ƒ ì²˜ëŸ¼ cì–¸ì–´ê°€ ë„ì™€ì¤Œ.
	int var_name = 3;		// creates an object called 'var_name'.

	int* pt = &var_name;	// pt is an identifier.
	*pt = 1;				// *pt is not an identifier. *pt designates an object.

	int arr[100];	// arr is an identifier. Is arr an object?
	arr[0] = 7;		// arr[0] is an object.

	/*
		lvalue is an expression 'referring' to an object. (K&R p.197)

		L-value : left side of an assignment
		R-value : right side, variable, constant, expressions (KNK p. 67)
	*/

	var_name = 3;	// modifiable lvalue
	int temp = var_name;
	temp = 1 + 2;

	pt = &var_name;
	int* ptr = arr;
	*pt = 7;	// *pt is not an identifier but an modifiable lvalue expression.

	int* ptr2 = arr + 2 * var_name; // address rvalue
	*(arr + 2 * var_name) = 456;	// lvalue expression

	const char* str = "Constant string";		// str is a modifiable lvalue.
	str = "Second string";	// "Constant string" = "Second String"	// impossible
	//str[0] = 'A'; // Error
	//puts(str);

	char str2[] = "String in an array";
	str2[0] = 'A';	// OK
	//puts(str2);

	/*
		Identifiers have scope.
		Objects have storage duration.
		Variables and functions have one of the following linkages:
			external linkage, internal linkage, or no linkage.
	*/

	return 0;
}
```


### ğŸ“Œ 12.3 ë³€ìˆ˜ì˜ ì˜ì—­(Scope)ê³¼ ì—°ê²° ìƒíƒœ(Linkage), ê°ì²´ì˜ ì§€ì† ê¸°ê°„(Duration)
- BSS segmentì—ì„œ g_jê°€ 0ìœ¼ë¡œ ì´ˆê¸°í™” ë˜ê¸° ë•Œë¬¸ì—, ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ printf("%d\n", g_j) ì—ì„œ ì—ëŸ¬ê°€ ì—†ë‹¤. (g_jëŠ” file scopeì´ë‹¤. = ì „ì—­ë³€ìˆ˜)  
- file 's scope.
``` c
#include <stdio.h>

/*
	ë³€ìˆ˜ì˜ ì˜ì—­
	Variable scopes (visibility)
	- block, function, function prototype, file.
*/

int g_i = 123;	// global variable
int g_j;		// global variable

void func1()
{
	g_i++; 	// uses g_i
}

void func2()
{
	g_i += 2;	// uses g_i

	//local = 456;	// Error
}

int main()
{
	int local = 1234;

	func1();
	func2();

	printf("%d\n", g_i);	// 126	// uses g_i
	printf("%d\n", g_j);	// 0    // Not initialized?  
	printf("%d\n", local);	// 1234

	return 0;
}
```
- block, function, function prototype 's scope.
``` c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

/*
	Variable scopes (visibility)
	- block, function, function prototype, file.
*/

void f1(int hello, double world);	// prototype declaration(ì§€ì†ê¸°ê°„)ì€ ì§€ê¸ˆ ì´ ë¬¸ì¥ ëë‚˜ëŠ” ì§€ì ê¹Œì§€.
//void vla_param(int n, int m, double ar[n][m]); // gcc only

double func_block(double d)
{
	double p = 0.0;

	int i;
	for (i = 0; i < 10; i++)
		//for (int i = 0; i < 10; i++) // C99
	{
		double q = d * i;
		p *= q;

		if (i == 5)
			goto hello;
	}

hello:
	printf("Hello, World");

	return p;
}

int main()
{
	func_block(1.0);
}

void f1(int hello, double world)
{
}

//void vla_param(int n, int m, double ar[n][m])
//{
//
//}
```
- (Linker <->) Linkage  
  compilter translation Unitì€ fileì´ë‹¤. fileì´ ë¶„ë¦¬ë˜ì–´ ìˆìœ¼ë©´ ì„œë¡œ ì•Œ ë°©ë²•ì´ ì—†ë‹¤.  
  `int main() ë°–ì— ì„ ì–¸í•œ ë³€ìˆ˜`ëŠ” `extern` (ì €ì¥ í´ë˜ìŠ¤ ì§€ì •ì(Storage Class Specifier))ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ fileì—ì„œë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì—, í•´ë‹¹ ë³€ìˆ˜ ì´ë¦„ì´ `ì „ì—­ ë³€ìˆ˜`ê°€ ë˜ì—ˆë‹¤.  
  `static`ì„ ë¶™ì´ë©´, `í•´ë‹¹ íŒŒì¼ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥`í•˜ë‹¤. (internal linkage)  
  <img width="500" src="https://github.com/user-attachments/assets/14dc0542-9d11-4e22-b38f-490261836600"/>

``` c
//////// 03B_Linkage
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

/*
	Linkage

	Variables with block scope, function scope, or function prototype scope
	- No linkage

	File scope variables
	- External or internal linkage
*/

// translation unit

int el;			// file scope with external linkage (global variable)
static int il;	// file scope with internal linkage

void testLinkage();

int main()
{
	el = 1024;

	testLinkage();

	printf("%d\n", el);

	return 0;
}

//////// second.c
#include <stdio.h>

extern int el;
//extern int il;

void testLinkage()
{
	printf("DoSomething called\n");
	printf("%d\n", el);
	//printf("%d\n", il);
	//printf("%d", dodgers);

	el++;
}
```
- duration
``` c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

/*
	Storage duration:
	- static storage duration  <- ì‹œì‘í•  ë•Œë¶€í„° ëë‚  ë•Œê¹Œì§€ ìœ ì§€. (Text Segment)
	  (Note: 'static' keyword indicates the linkage type, not the storage duration) * ê°œë…ì°¨ì´!
	- automatic storage duration  <- ì§€ì—­ë³€ìˆ˜ (stack)
	- allocated storage duration  <- ë™ì í• ë‹¹ (heap)
	- thread storage duration  <- ë©€í‹°ì“°ë ˆë”©
*/

void count()
{
	int ct = 0;
	printf("count = %d\n", ct);
	ct++;
}

void static_count()
{
	static int ct = 0;  // í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ì–´ë„ ë³€ìˆ˜ê°€ ìœ ì§€ëœë‹¤.
	printf("static count = %d\n", ct);
	ct++;
}

int main()
{
	count();  // count = 0
	count();  // count = 0
	static_count();  // static count = 0
	static_count();  // static count = 1

	return 0;
}
```


### ğŸ“Œ 12.4 ì €ì¥ ê³µê°„ì˜ ë‹¤ì„¯ ê°€ì§€ ë¶„ë¥˜(Five Storage Classes)
<img width="700" alt="image" src="https://github.com/user-attachments/assets/d1b61d5d-3809-4fb7-8a17-898b81c3555b" />


### ğŸ“Œ 12.5 ìë™ ë³€ìˆ˜(Automatic Variables)
``` c
#include <stdio.h>

/*
	Automatic storage class
	- Automatic storage duration, block scope, no linkage
	- Any variable declared in a block or function header
*/

void func(int k);

int main()	//Note: main() is a function.
{
	auto int a;	// keyword auto : a storage-class specifier
	a = 1024;
	//printf("%d\n", a);		// what happens if uninitialized?
	auto int b = a * 3;		// what happens if uninitialized?

	int i = 1;
	int j = 2;

	printf("i %lld\n", (long long)&i);  // i 18085644

	{
		int i = 3;	// name hiding  <- ì´ë¦„ì´ ê²¹ì³ì„œ ë¶€ë¥¼ ìˆ˜ ì—†ì–´ì„œ ì‚¬ìš©ì„ ëª»í•  ë¿.
		printf("i %lld\n", (long long)&i);  // i 18085620

		int ii = 123;
		// j is visible here
		printf("j = %d\n", j);  // j = 2
		// memoryì— stackë˜ì„œ ì•ˆìª½ blockì—ì„œ ë°–ì— blockì˜ jë¥¼ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. (ë°˜ëŒ€ë¡œëŠ” ë¶ˆê°€)
	}

	// ii is not visible here

	printf("i %lld\n", (long long)&i);	// i 18085644

	for (int m = 1; m < 2; m++)
		printf("m %lld\n", (long long)&m);  // m 18085596	// forë¬¸ ì•ˆì— scope.

	func(5);	// cannot see any of the variabled defined so far.

	for (int m = 3; m < 4; m++)
	{
		printf("m %lld\n", (long long)&m);  // m 18085584			// block?
	}

	return 0;
}

void func(int k)  // stack frame ìì²´ê°€ ë³€í•œë‹¤. (block scope -> finction scope)
{
	int i = k * 2;
	// do something with i and k
	printf("i %lld\n", (long long)&i);  // i 18085352
}
```


### ğŸ“Œ 12.6 ë ˆì§€ìŠ¤í„° ë³€ìˆ˜(register)
- cpuì˜ ì„ì‹œ ì‘ì—…ê³µê°„. (memoryëŠ” cpuì™€ ë¶„ë¦¬ë˜ì–´ ìˆìŒ.)  
  'register' keywordë¡œ ìš”ì²­ì€ ê°€ëŠ¥í•˜ì§€ë§Œ, ë§¤ë²ˆ registerì— ì˜¬ë¼ê°€ì§€ëŠ” ì•ŠëŠ”ë‹¤.  
  (ë§ì´ ì‚¬ìš©í•˜ì§€ëŠ” ì•ŠìŒ = GPU, ë³‘ë ¬ì²˜ë¦¬ ë“±ìœ¼ë¡œ ìš°íšŒ.)
``` c
#include <stdio.h>

void temp(register int r)
{
	// do something with r
}

int main()
{
	register int r;
	r = 123;

	//printf("%p\n", &r);
	//int* ptr = &r;  // registerì˜ ì£¼ì†ŒëŠ” ê°€ì§€ê³  ì˜¬ ìˆ˜ ì—†ìŒ.

	return 0;
}
```


### ğŸ“Œ 



















  
