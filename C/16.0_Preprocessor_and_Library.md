### 📌 16.1 전처리기가 해주는 일들(Pre-processor)
- Pre-process + compile + linker = Build  
  (compile 전, 전처리기.) : code와 compiler를 연결해준다.
  - 컴파일러가 이해할 수 있도록 번역.  
    프로그래머의 효율을 높여주는 기능들.  
    코드를 다양하게 컴파일.(multi platform)  


### 📌 16.2 전처리를 준비하는 번역 단계(Translate Phases)
``` c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main()
{
	/*
		Program written in C

		Translating
		Preprocessing
		Compiling
		Linking

		Executable
	*/

	/*
		International characters
	*/

	puts("�ȳ��ϼ���? �ѱ��� ����մϴ�.\n");

	/*
		Trigraph Sequences
		- Some keyboards don't provide all the symbols used in C.
		- Three-character sequences

		Trigraph		Replacement
		??=				#
		??/				\
		??'				^
		??(				[
		??)				]
		??!				|
		??<				{
		??>				}
		??-				~

		/Zc:trigraphs
	*/

	int arr[3] = { 1, 2, 3 };
	//printf("arr??(0??) == %d\n", arr??(0??));
	printf("arr[0] == %d\n", arr[0]);

	/*
		Digraphs
		- Two-character sequences

		Digraph			Equivalent
		<:				[
		:>				]
		<%				{
		%>				}
		%:				#
	*/

	printf("arr<:1:> == %d\n", arr<:1:>);
	//printf("arr[1] == %d\n", arr[1]);

	/* Two physical lines vs One logical line */
	printf("This is a very very very very very\
very very very long long long long long long line.\n");
	
	/*
		Tokens
		- Groups separated from each other by spaces, tabs, or line breaks
		Whitespace characters -> a single space
	*/

	int/*a variable to count a number*/n = 1;
	//int n1 = 1;

	return 0;
}
```


### 📌 16.3 #define 매크로
``` c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

/*
	Preprocessor directives begins with # symbol at the beginning of a line.
*/

/*
	Macro
	- An instruction that represents a sequence of instructions in abbreviated form.
*/

/*
#define			SAY_HELLO		printf("Hello, World!");

Preprocessor	Macro (name)	body (or replacement list)
directive

Macro expansion
*/


/*
	Object-like macros vs Function-like macros

#define ONE 1
#define SQUARE(X) X*X
*/

#define PI 3.141592		/* Symbolic, or manifest, constants */
#define GRAVITY 9.8

#define THREE 3			
#define MESSAGE "The greatest glory in living lies not in never falling, \
but in rising every time we fall."

#define NINE	THREE*THREE
#define	SAY_HELLO for(int i = 0; i <10; i ++) printf("Hello, World!\n");
#define FORMAT "Number is %d.\n"

# define WITH_BLANK 1

#define MY_CH 'Z'
#define MY_ST "Z"	// Z\0

#define LIMIT 20
const int LIM = 50;
static int arr1[LIMIT];
//static int arr2[LIM];		// clang, C++
const int LIM2 = 2 * LIMIT;
//const int LIM3 = 2 * LIM;	// clang, C++

/*
	Tokens

#define SIX 3*2
#define SIX 3 * 2
#define SIX 3		*		2
*/

/* Redefining Constants */
#define SIX 2*3
#define SIX 2*3
#undef SIX
#define SIX 2 * 3	// Warning

int main()
{
	int n = THREE;

	SAY_HELLO		//Note the additional ;  
		n = NINE;

	printf(FORMAT, n);
	printf("%s\n", MESSAGE);	// replaced
	printf("SAY_HELLO NINE\n");	// Not replaced

	return 0;
}
```


### 📌 16.4 함수 같은 매크로
``` c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

/*
	Function-like macros

	#define		ADD(X,Y)	((X)+(Y))

	X and Y : macro arguments
*/

#define	ADD1(X,Y)		X+Y
#define	ADD2(X,Y)		((X)+(Y))
#define SQUARE(X)		X*X			// ((X)*(X))

int main()
{
	int sqr = SQUARE(3);

	int a = 1;

	printf("%d\n", 2 * ADD1(1, 3)); //2 * X + Y = 2 * 1 + 3 = 5 // WRONG!!!
	printf("%d\n", 2 * ADD2(1, 3)); //2 * (1 + 3) = 8

	printf("%d\n", SQUARE(1 + 2)); // 1+2*1+2 = 1 + 2 + 2 = 5 // WRONG!!!!
	printf("%d\n", 100 / SQUARE(3 + 1)); //100 / 3 + 1 * 3 + 1 = 33 + 3 + 1 = 37 // WRONG!!!
	printf("%d\n", SQUARE(++a)); // ++a * ++a = 3 * 3 = 9 // DANGEROUS!

	return 0;
}

#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

/*
	stringizing operator #
	- converts macro parameters to string literals
*/
#define SQUARE(X)	 (X)*(X)
#define PRINT_SQR1(x) printf("The square of %d is %d.\n", x, SQUARE(x))
#define PRINT_SQR2(x) printf("The square of " #x " is %d.\n", SQUARE(x))

/*
	## operator combines two tokens into a single token
*/

#define XNAME(n)	x ## n
#define PRT_XN(n)   printf("x" #n " = %d\n", x ## n);

int main()
{
	PRINT_SQR1(10);
	PRINT_SQR2(10);

	printf("\n");

	int XNAME(1) = 1;	// int x1 = 1;
	int XNAME(2) = 2;	// int x2 = 2;

	PRT_XN(1);			// printf("x1 " = %d\n", x1);
	PRT_XN(2);			// printf("x2 " = %d\n", x2);

	return 0;
}


/*
	Macro or Function ?
	- no space in the macro name
	- Use parentheses
	- Use capital letters for macro function names
	- Speed up?
*/

#define MAX(X,Y)		((X) > (Y) ? (X) : (Y))
#define MIN(X,Y)		((X) < (Y) ? (X) : (Y))
#define ABS(X,Y)		((X) < 0 ? -(X):(X))
```


### 📌 16.5 가변 인수 매크로



















### 📌 
