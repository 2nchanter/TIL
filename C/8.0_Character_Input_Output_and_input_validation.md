### ğŸ“Œ 8.1 ì…ì¶œë ¥ ë²„í¼
- `buffer` : ë²„í¼ëŠ” ì…ì¶œë ¥ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ `ë°ì´í„°(ë¬¸ì, ìˆ«ì ë“±)ë¥¼ ì„ì‹œë¡œ ì €ì¥í•˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„`  
  ì…ì¶œë ¥ ì¥ì¹˜ëŠ” CPUë³´ë‹¤ ì†ë„ê°€ ëŠë ¤ì„œ, í•œ ê¸€ìì”© ì²˜ë¦¬í•˜ë©´ ë¹„íš¨ìœ¨ì ì´ë¯€ë¡œ í•œ ë²ˆì— ëª¨ì•„ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ ì¼ë°˜ì   
  <img width="400" alt="image" src="https://github.com/user-attachments/assets/9b6377af-b442-49f1-abc6-731bf0698d70" />
``` c
#include <stdio.h>
#include <conio.h>
int main()
{
	char c;

	// buffer !
	while ((c = getchar()) != '.')
		putchar(c);

	// no buffer !
	while ((c = _getche()) != '.')  // e : echo
		putchar(c);

	while ((c = _getch()) != '.')
		putchar(c);

	return 0;
}
```
- ë³´ì¶© ì„¤ëª…
``` c
#include <stdio.h>

int main() {
    char c;
    
    while ((c = getchar()) != '\n') {  // ì…ë ¥ ë²„í¼ì—ì„œ í•œ ê¸€ì ê°€ì ¸ì˜¤ê¸°
        putchar(c);  // ì¶œë ¥ ë²„í¼ë¡œ ë³´ë‚´ì„œ í™”ë©´ì— ì¶œë ¥
    }

    return 0;
}
```
- í‚¤ë³´ë“œì—ì„œ ì…ë ¥í•˜ë©´ ë²„í¼ì— ë¨¼ì € ì €ì¥ë˜ê³ , Enter(ê°œí–‰ ë¬¸ì '\n')ì„ ëˆŒëŸ¬ì•¼ í”„ë¡œê·¸ë¨ì´ ì…ë ¥ì„ ì½ìŒ.  
  getchar()ëŠ” ë²„í¼ì—ì„œ í•œ ê¸€ìì”© êº¼ë‚´ì˜¤ëŠ” í•¨ìˆ˜ì´ë¯€ë¡œ whileë¬¸ì„ ëŒ ë•Œë§ˆë‹¤ ë²„í¼ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒ.  
  putchar()ë„ ì¶œë ¥ ë²„í¼ì— ì €ì¥í•œ í›„ í•œêº¼ë²ˆì— ì¶œë ¥í•˜ëŠ” ë°©ì‹ì´ë¼ ê°œí–‰ ë¬¸ì('\n')ê°€ ìˆì„ ë•Œ ì¦‰ì‹œ ì¶œë ¥ë¨.  
  <img width="400" alt="image" src="https://github.com/user-attachments/assets/7f7aca42-901d-42cf-aa08-96bd9ca485e3" />


### ğŸ“Œ 8.2 íŒŒì¼ì˜ ë (End of File, EOF)
- streamì´ ì–¸ì œ ëë‚˜ëŠ”ì§€ë¥¼ `EOF`ë¡œ íŒë‹¨.
- `ctrl + z`ë¥¼ ë²„í¼ì— ë„£ì–´ì„œ ì „ì†¡í•˜ë©´ EOFì´ ëœë‹¤.
- `ctrl + c`ëŠ” ê°•ì œì¢…ë£Œ.
``` c
#include <stdio.h>

int main()
{
	int c;

	//while ((c = getchar()) != EOF)
	//	putchar(c);

	// stream
	while (1)
	{
		c = getchar();
		printf("%d\n", c);
		if (c == EOF)
			break;
	}

	return 0;
}
```


### ğŸ“Œ 8.3 ì…ì¶œë ¥ ë°©í–¥ ì¬ì§€ì •(redirection)
- ë°ì´í„°ì˜ íë¦„ì„ ì¡°ì •, ì¬ì§€ì • í•  ìˆ˜ ìˆë‹¤.  
  cmdì—ì„œ output í™•ì¸í•˜ê¸° : `TBC.exe`  
  cmdì—ì„œ outputì„ .txtë¡œ ì €ì¥(redirection) í•˜ê¸° : TBC.exe `> output.txt`  
  cmdì—ì„œ ì§ì ‘ input/output í•˜ê¸° : TBC.exe (with scanf)  
  cmdì—ì„œ .txtë¡œ input/output : TBC.exe `< input.txt`  
  (TBC.exe > output.txt < input.txt ë„ ê°€ëŠ¥)  
  cmdì—ì„œ outputì„ .txtë¡œ ì´ì–´ì„œ ì €ì¥í•˜ê¸° : TBC.exe `>> output.txt`  
  ë³µì‚¬ : copy TBC.exe test.exe  
  ë°ì´í„° ìŠ¤íŠ¸ë¦¼(íŒŒì´í”„) test : `test.exe | TBC.exe`  
``` c
#include <stdio.h>

int main()
{
	// test.exe
	printf("Programming");

	// TBC.exe
	char str[100];
	scanf("%s", str);
	printf("I love %s.\n", str);  // result : I love Programming

	return 0;
}
```


### ğŸ“Œ 8.4 ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ëŠ” ì¹œì ˆí•˜ê²Œ
``` c
#include <stdio.h>

int main()
{
	int count = 0;

	while (1)
	{
		printf("Current count is %d. Continue? (y/n)\n", count);

		int c = getchar();

		if (c == 'n')
			break;
		else if (c == 'y')
			count++;
		else
			printf("Please input y or n\n");

		while (getchar() != '\n')
			continue;
	}

	return 0;
}
```


### ğŸ“Œ 8.5 ìˆ«ìì™€ ë¬¸ìë¥¼ ì„ì–´ì„œ ì…ë ¥ë°›ê¸°
- `getchar()ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²« ë²ˆì§¸ ë¬¸ìë§Œ ì½ê³ `, `scanf("%d %d")ë¡œ ìˆ«ìë¥¼ ì½ëŠ” êµ¬ì¡°.`  
  âš ï¸ scanfëŠ” ê³µë°±ì„ ë¬´ì‹œí•˜ëŠ” íŠ¹ì„±ì´ ìˆê¸° ë•Œë¬¸ì—, 3 ì•ì— ìˆëŠ” ê³µë°±ì€ ë¬´ì‹œë˜ê³ , 4 ì•ì˜ ê³µë°±ì€ ë¬¸ë²•ì ìœ¼ë¡œ í•„ìš”í•œ ê³µë°±
``` c
#include <stdio.h>

void display(char cr, int lines, int width);

int main()
{
	char c;
	int rows, cols;

	//// 1
	//while (1)
	//{
	//	scanf("%c %d %d", &c, &rows, &cols);
	//	while (getchar() != '\n')
	//		continue;
	//	display(c, rows, cols);
	//	if (c == '\n')  // <<< problem !!!
	//		break;
	//}

	// 2
	printf("Input one character and two integers:\n");

	while ((c = getchar()) != '\n')
	{
		scanf("%d %d", &rows, &cols);
		while (getchar() != '\n')
			continue;
		display(c, rows, cols);
		printf("Input another character and two integers:\n");
		printf("Press Enter to quit.\n");
	}

	return 0;
}

void display(char cr, int lines, int width)
{
	for (int i = 1; i <= lines; ++i)
	{ 
		for (int l = 1; l <= width; ++l)
		{
			//printf("%c", cr);
			putchar(cr);
		}			
		//printf("\n");
		putchar('\n');
	}

}
```


### ğŸ“Œ 8.6 ì…ë ¥ í™•ì¸í•˜ê¸°
- `ë³€ìˆ˜ì— ì¡°ê±´ì— ë§ëŠ” inputì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë„ë¡` ë¬´í•œë£¨í”„ í•¨ìˆ˜ ì ìš©í•˜ëŠ” ì•„ì´ë””ì–´.
``` c
#include <stdio.h>

long get_long(void);

int main()
{
	long number;

	while (1)
	{
		printf("Please input an integer between 1 and 100.\n");

		number = get_long();

		if (number > 1 && number < 100)
		{
			printf("OK. Thank you.\n");
			break;
		}
		else
			printf("Wrong input. Please try again.\n");
	}

	printf("Your input %d is between 1 and 100. Thank you.\n", number);

	return 0;
}

long get_long(void)
{
	printf("Please input an integer and press enter.\n");

	long input;
	char c;

	while (scanf("%ld", &input) != 1)
	{
		printf("Your input - ");

		// ê°œí–‰ ë¬¸ìë¥¼ ë§Œë‚ ë•Œê¹Œì§€ ë²„í¼ë¥¼ ë¹„ìš°ë©´ì„œ putcharë¡œ ì¶œë ¥ë²„í¼ì— ëª¨ë‘ í„¸ì–´ë‚´ê¸°.
		while ((c = getchar()) != '\n')
			putchar(c);// input left in buffer

		printf(" - is not an integer. Please try again.\n");
	}

	printf("Your input %ld is an integer. Thank you.\n", input);

	return input;
}
```


### ğŸ“Œ 8.7 ì…ë ¥ ìŠ¤íŠ¸ë¦¼ê³¼ ìˆ«ì
- getchar()ëŠ” `í•œ ë²ˆì— í•˜ë‚˜ì˜ ë¬¸ìì”© ì²˜ë¦¬`í•˜ê¸° ë•Œë¬¸ì—, `ì…ë ¥ì„ ê°œë³„ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ` ì‚¬ìš©í•©ë‹ˆë‹¤. (ë²„í¼ì— ë‚¨ì€ ë¬¸ìëŠ” getchar()ë¡œ ê³„ì† ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)  
  scanfëŠ” `ì…ë ¥ ë°ì´í„°ë¥¼ í˜•ì‹ì— ë§ê²Œ ì²˜ë¦¬`í•˜ê³ , ê³µë°±ì„ êµ¬ë¶„ìë¡œ ì²˜ë¦¬í•˜ì—¬ `ì—¬ëŸ¬ ê°œì˜ ê°’ì„ í•œ ë²ˆ`ì— ì½ì„ ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. (3.14ë¥¼ %dë¡œ ë°›ìœ¼ë©´ '.'ì„ ë§Œë‚˜ëŠ” ìˆœê°„ 'ìˆ«ì ì…ë ¥ì´ ëë‚¬êµ¬ë‚˜'ë¡œ ì¸ì‹í•´ì„œ .14ê°€ ë²„í¼ì— ë‚¨ëŠ”ë‹¤.)
``` c
#include <stdio.h>

int main()
{
	/*
		Assume that your input is :
		Hello 123 3.14
	*/

	char str[255];
	int i, i2;
	double d;

	scanf("%s %d %lf", str, &i, &d);
	printf("%s %d %f\n", str, i, d);  //Hello 123 3.140000

	// or (see the difference)

	scanf("%s %d %d", str, &i, &i2);
	printf("%s %d %d\n", str, i, i2);  //Hello 123 3     .14????

	// or (see the difference)

	char c;
	while ((c = getchar()) != '\n')
		putchar(c);
	//printf("%d", c);
	printf("\n");
}
```


### ğŸ“Œ 8.8 ë©”ë‰´ ë§Œë“¤ê¸° ì˜ˆì œ
``` c
#include <stdio.h>

void numbering(void);
int get_integer(void);

int main()
{
	char c;
	
	while (1)
	{
		printf("Enter the letter of your choice:\n\
a. avengers\tb. beep\n\
c. count\tq. quit\n");

		c = getchar();
		while (getchar() != '\n')
			continue;

		if (c == 'a')
			printf("Avengers assemble!");
		else if (c == 'b')
			printf("\a");
		else if (c == 'c')
			numbering();
		else if (c == 'q')
			break;
	}

	return 0;
}

void numbering(void)
{
	printf("Enter an integer:\n");

	unsigned i = 0;
	
	while (1)
	{
		if (1 == scanf("%u", &i))
		{
			for (unsigned count = 1; count <= i; ++count)
				printf("%d\n", count);
			break;
		}
		else
			printf("please retry\n");
			while (getchar() != '\n')
				continue;
	}
}

// practice
int get_integer(void)
{
	int input;
	char c;

	while (scanf("%d", &input) != 1)
	{
		while ((c = getchar()) != '\n')
			putchar(c);		
		printf("please retry.\n");
	}

	return input;
}
```


### ğŸ“Œ 8.9 í…ìŠ¤íŠ¸ íŒŒì¼ ì½ê¸°
- fopen()ì˜ ì—­í•   
  fopen()ì„ í˜¸ì¶œí•˜ë©´, `íŒŒì¼ì„ ìŠ¤íŠ¸ë¦¼ í˜•íƒœë¡œ ì—´ì–´`ì¤Œ  
  (ì¦‰, íŒŒì¼ê³¼ í”„ë¡œê·¸ë¨ì„ ì—°ê²°í•˜ëŠ” 'ë‹¤ë¦¬' ì—­í• ì„ í•¨)
  
- fopen()ì˜ ë™ì‘ ê³¼ì •  
  â†’ fopen("data.txt", "r") ì‹¤í–‰  
  â†’ íŒŒì¼ data.txtë¥¼ ì½ê¸° ëª¨ë“œ(r)ë¡œ ì—´ë ¤ê³  ì‹œë„  
  â†’ OSì—ê²Œ "ì´ íŒŒì¼ì„ ì½ì„ ìˆ˜ ìˆë„ë¡ ìŠ¤íŠ¸ë¦¼ì„ ë§Œë“¤ì–´ì¤˜!" ë¼ê³  ìš”ì²­  
  â†’ íŒŒì¼ì´ ì¡´ì¬í•˜ë©´ `ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±`í•˜ì—¬ `FILE * íƒ€ì…ìœ¼ë¡œ ë°˜í™˜`  
  â†’ íŒŒì¼ì´ ì—†ê±°ë‚˜ ì ‘ê·¼ ê¶Œí•œì´ ì—†ìœ¼ë©´ `NULL ë°˜í™˜`  
  â†’ fp ë³€ìˆ˜ëŠ” `íŒŒì¼ê³¼ í”„ë¡œê·¸ë¨ì„ ì—°ê²°í•˜ëŠ” ìŠ¤íŠ¸ë¦¼`ì„ ê°€ë¦¬í‚´  
  â†’ fclose(fp)ë¥¼ í˜¸ì¶œí•˜ë©´ íŒŒì¼ ìŠ¤íŠ¸ë¦¼ì„ ë‹«ê³  ìì› í•´ì œ  

- ì™œ ìŠ¤íŠ¸ë¦¼ì„ ì“°ëŠ”ì§€?  
  ë©”ëª¨ë¦¬ì™€ ë””ìŠ¤í¬ ê°„ì˜ íš¨ìœ¨ì ì¸ ë°ì´í„° ì²˜ë¦¬  
  íŒŒì¼ì„ í•œ ë²ˆì— ë‹¤ë£¨ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, `í•„ìš”í•  ë•Œë§Œ ì½ê³  ì“°ê¸° ê°€ëŠ¥`

- fopen() = íŒŒì¼ì„ ì½ê³  ì“°ëŠ” â€˜ë¬¸â€™ì„ ì—¬ëŠ” ì—­í•   
  FILE * = ì—´ë¦° ë¬¸ì„ í†µí•´ íŒŒì¼ê³¼ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” í†µë¡œ(ìŠ¤íŠ¸ë¦¼)  
  fclose() = ë¬¸ì„ ë‹«ì•„ì„œ ìì›ì„ ë°˜í™˜

- âš ï¸ fopen()ì„ ì‚¬ìš©í•  ë•Œ, ìƒëŒ€ ê²½ë¡œ("my_file.txt")ë¡œ íŒŒì¼ì„ ì—´ë©´,  
  ê¸°ë³¸ì ìœ¼ë¡œ í˜„ì¬ ì‹¤í–‰ íŒŒì¼(.exe)ì´ ìœ„ì¹˜í•œ í´ë”ì—ì„œ íŒŒì¼ì„ ì°¾ìŒ.
``` c
#include <stdio.h>
#include <stdlib.h>	// exit()
int main()
{
	// íŒŒì¼ì„ ì°¾ëŠ” ê¸°ì¤€ì´ ë˜ëŠ” í´ë”ë¥¼ í™•ì¸ ê°€ëŠ¥
	printf("í˜„ì¬ ì‘ì—… ë””ë ‰í† ë¦¬: %s\n", _getcwd(NULL, 0));

	// code
	int c;
	FILE* file = NULL;
	char file_name[] = "my_file.txt";//TODO: use scanf(...)

	file = fopen(file_name, "r"); // read or write
	if (file == NULL)
	{
		printf("Failed to open file.\n");
		exit(1);  // quit!
	}

	while ((c = getc(file)) != EOF)
		putchar(c);
	fclose(file);

	return 0;
}
```
